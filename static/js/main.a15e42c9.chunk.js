(this.webpackJsonprythmvibes=this.webpackJsonprythmvibes||[]).push([[0],{53:function(e,t,n){"use strict";n.r(t),n.d(t,"useStore",(function(){return x}));var o=n(7),i=n(6),a=n.n(i),r=n(31),c=n.n(r),s=n(8),l=n(14),j=(n(22),n(18)),u=(n(30),n(5));function d(e){var t=a.a.useRef(),n=Object(i.useState)(!1),r=Object(s.a)(n,2),c=r[0],d=r[1],h=Object(i.useState)({size:e.size,color:e.color,heightSegments:e.heightSegments,widthSegments:e.widthSegments,posX:e.position[0],posY:e.position[1],posZ:e.position[2],rotX:0,activeRot:!0,rotY:0,rotZ:0}),b=Object(s.a)(h,2),m=b[0],g=b[1],f=function(e){var t=e.target,n=t.value,i=t.name,a=Object(o.a)({},m);a[i]=n,console.log(m),g(a)},p=Object(u.jsx)(j.Html,{style:{backgroundColor:"grey",padding:"0.6em",opacity:"0.7",borderRadius:"0.5em"},position:[15,40,-50],rotationY:.2,children:Object(u.jsx)("div",{children:Object(u.jsxs)("form",{children:[Object(u.jsx)("label",{htmlfor:"color",children:"Farbe"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"color",name:"color",value:m.color,onChange:f}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlfor:"size",children:"Gr\xf6\xdfe"}),Object(u.jsx)("input",{type:"range",name:"size",value:m.size,onChange:f}),Object(u.jsx)("label",{htmlfor:"heightSegments",children:"heightSegments"}),Object(u.jsx)("input",{type:"range",min:1,max:20,name:"heightSegments",value:m.heightSegments,onChange:f}),Object(u.jsx)("label",{htmlfor:"widthSegments",children:"widthSegments"}),Object(u.jsx)("input",{type:"range",min:1,max:20,name:"widthSegments",value:m.widthSegments,onChange:f}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlfor:"X",children:"X"}),Object(u.jsx)("input",{type:"range",min:-8.8,max:8.8,name:"posX",value:m.posX,onChange:f}),Object(u.jsx)("label",{htmlfor:"Y",children:"Y"}),Object(u.jsx)("input",{type:"range",min:-10,max:10,name:"posY",value:m.posY,onChange:f}),Object(u.jsx)("label",{htmlfor:"Z",children:"Z"}),Object(u.jsx)("input",{type:"range",min:-10,max:10,name:"posZ",value:m.posZ,onChange:f}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlfor:"rotX",children:"Rotation X"}),Object(u.jsx)("input",{type:"range",min:-100,max:100,name:"rotX",value:m.rotX,onChange:f}),Object(u.jsx)("label",{htmlfor:"rotY",children:"Rotation Y"}),Object(u.jsx)("input",{type:"range",min:-100,max:100,name:"rotY",value:m.rotY,onChange:f}),Object(u.jsx)("label",{htmlfor:"rotZ",children:"Rotation Z"}),Object(u.jsx)("input",{type:"range",min:-100,max:100,name:"rotZ",value:m.rotZ,onChange:f})]})})});return Object(l.useFrame)((function(){m.activeRot&&(t.current.rotation.x+=m.rotX/1e3,t.current.rotation.y+=m.rotY/1e3,t.current.rotation.z+=m.rotZ/1e3)})),Object(u.jsxs)(a.a.Fragment,{children:[c?p:null,Object(u.jsxs)("mesh",{position:[m.posX,m.posY,m.posZ],ref:t,scale:m.size/10,onClick:function(){d(!c)},children:[Object(u.jsx)("sphereGeometry",{args:[1,m.heightSegments,m.widthSegments]}),Object(u.jsx)("meshStandardMaterial",{color:m.color})]})]})}var h=n(11),b={padding:"1em",width:"100%",backgroundColor:"gray",borderRadius:"0.5em"},m={padding:"0em 1em",margin:"1em",width:"100%"};function g(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(i.useState)(!1),c=Object(s.a)(r,2),d=c[0],g=c[1],f=Object(i.useState)({id:"default",label:"",kind:"audioinput"}),p=Object(s.a)(f,2),O=(p[0],p[1],new(window.AudioContext||window.webkitAudioContext)),x=O.createAnalyser();x.fftsize=512;return navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){window.stream=e,O.createMediaStreamSource(e).connect(x),console.log("hey")})),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices||console.log("enumerateDevices() not supported."),d||(navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){var t={kind:e.kind,label:e.label,id:e.deviceId,groupId:e.groupId};n.push(t),o([].concat(Object(h.a)(n),[t]))}))})).catch((function(e){console.log(e.name+": "+e.message)})),g(!0)),console.log(n.length),console.log(n[0]),Object(l.useFrame)((function(){new Uint8Array(x.frequencyBinCount)})),Object(u.jsx)(a.a.Fragment,{children:Object(u.jsx)(j.Html,{position:[-6,6,-3],rotationY:.2,children:Object(u.jsxs)("form",{style:b,children:[Object(u.jsx)("label",{htmlfor:"type",children:"Audio-Quelle"}),Object(u.jsx)("select",{name:"type",style:m,children:n.map((function(e){return Object(u.jsx)("option",{value:e.deviceId,children:e.label})}))})]})})})}var f=function(){var e=x((function(e){return[e.allEffects,e.addEffect]})),t=Object(s.a)(e,2);return t[0],t[1],Object(u.jsx)("div",{style:{height:"1000px"},children:Object(u.jsxs)(l.Canvas,{pixelRatio:window.devicePixelRatio,invalidateFrameloop:!1,style:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%"},children:[Object(u.jsx)("ambientLight",{}),Object(u.jsx)("pointLight",{position:[10,10,10]}),Object(u.jsx)(d,{position:[0,0,-10],color:"#0000fa",size:50}),Object(u.jsx)(d,{position:[2,-2,-10],color:"#f30000",size:50,heightSegments:20,widthSegments:20}),Object(u.jsx)(g,{})]})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),o(e),i(e),a(e),r(e)}))},O=n(28),x=n.n(O)()((function(e,t){return{selectedEffect:0,allEffects:{},controllerInput:{type:"Box",size:50,color:"#ff00ff"},addEffect:function(n){var o=t().allEffects;o[n.id]=n.controllerInput,e((function(e){return o}))},getCI:function(e){return console.log(t((function(e){return e.allEffects.allEffects}))),t((function(e){return e}))},updateControllerInput:function(n){t().allEffects[n.id]=n.controllerInput,e((function(e){return{allEffects:Object(o.a)({},e.allEffects)}}))}}}));c.a.render(Object(u.jsx)(f,{}),document.getElementById("root")),p()}},[[53,1,2]]]);
//# sourceMappingURL=main.a15e42c9.chunk.js.map